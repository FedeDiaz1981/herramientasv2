<section class="bg-brand-bg text-ui-text min-h-screen flex flex-col antialiased font-sans">
	<div class="h-1.5 w-full bg-gradient-to-r from-brand-navy via-brand-blue to-brand-cyan"></div>

	<div class="wrap w-full max-w-7xl mx-auto px-6 py-10 flex-grow">
		<header class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10">
			<div>
				<div class="flex items-center gap-3 mb-1">
					<i data-lucide="dna" class="text-brand-blue w-8 h-8 stroke-[1.5]"></i>
					<h1 class="text-2xl md:text-3xl font-bold text-brand-navy tracking-tight">
						Reconversion Archivo Time Tracking
					</h1>
				</div>
				<p class="text-brand-blue font-semibold text-sm flex items-center gap-2">
					<span class="w-1 h-1 rounded-full bg-brand-cyan"></span>
					Lógica JSON Blindada + Estructura Final (V13)
				</p>
			</div>

			<div class="bg-white px-5 py-2.5 rounded-full border border-ui-border shadow-sm flex items-center gap-3">
				<span class="dot" id="dot"></span>
				<span id="pillText" class="text-xs font-semibold text-ui-meta uppercase tracking-wide">
					Esperando Archivo
				</span>
			</div>
		</header>

		<div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
			<div class="lg:col-span-4 flex flex-col gap-6">
				<div class="bento-card p-6 shadow-clinical">
					<div class="flex items-center gap-2 mb-4 text-brand-navy font-bold">
						<i data-lucide="settings" class="w-5 h-5 text-brand-cyan"></i>
						<h2>Panel de Control</h2>
					</div>

					<div class="space-y-4">
						<input
							id="file"
							type="file"
							accept=".xlsx,.xlsm,.xls,.csv"
							class="block w-full text-sm text-ui-meta file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-brand-bg file:text-brand-blue border border-ui-border rounded-xl p-1 bg-gray-50 focus:outline-none"
						/>

						<div class="flex gap-2">
							<button
								id="run"
								type="button"
								disabled
								class="flex-[3] py-3.5 px-6 rounded-xl bg-brand-cyan text-white font-bold text-sm tracking-wide shadow-lg hover:bg-brand-blue disabled:opacity-50 transition-all duration-300 flex items-center justify-center gap-2"
							>
								<i data-lucide="play-circle" class="w-4 h-4"></i> PROCESAR
							</button>

							<button
								id="reset"
								type="button"
								class="flex-1 py-3.5 px-2 rounded-xl bg-gray-100 text-brand-navy font-bold text-sm border border-ui-border hover:bg-red-50 hover:text-red-600 hover:border-red-200 transition-all duration-300 flex items-center justify-center"
								title="Reiniciar Sistema"
							>
								<i data-lucide="refresh-cw" class="w-4 h-4"></i>
							</button>
						</div>

						<div class="pt-2 border-t border-gray-100">
							<button
								id="btnManual"
								type="button"
								class="w-full py-3 rounded-xl border-2 border-brand-blue text-brand-blue font-bold text-[10px] uppercase tracking-[0.15em] hover:bg-brand-blue hover:text-white transition-all duration-300 flex items-center justify-center gap-2 shadow-sm"
							>
								<i data-lucide="book-open" class="w-4 h-4"></i>
								Manual de Usuario
							</button>
						</div>
					</div>
				</div>

				<div class="bento-card p-6 shadow-clinical flex-grow flex flex-col min-h-[300px]">
					<h3 class="text-xs font-bold text-brand-navy uppercase tracking-wider flex items-center gap-2 mb-3">
						<i data-lucide="clipboard-list" class="w-4 h-4 text-ui-meta"></i> Bitácora del Proceso
					</h3>
					<pre
						id="log"
						aria-live="polite"
						role="status"
						class="flex-grow bg-gray-50 border border-ui-border rounded-xl p-4 text-xs font-mono text-ui-text overflow-y-auto whitespace-pre-wrap leading-relaxed shadow-inner"
					></pre>
				</div>
			</div>

			<div class="lg:col-span-8 flex flex-col gap-6">
				<div class="bento-card p-8 shadow-clinical relative overflow-hidden">
					<div class="absolute -right-10 -top-10 w-64 h-64 bg-brand-bg rounded-full opacity-50 z-0 pointer-events-none"></div>
					<div class="relative z-10">
						<div class="flex justify-between items-end mb-6">
							<h2 class="text-brand-navy font-bold text-lg">Métricas de Validación</h2>
							<div id="time" class="text-ui-meta text-xs font-mono" aria-live="polite"></div>
						</div>
						<div class="h-2 w-full bg-gray-100 rounded-full overflow-hidden mb-8">
							<div
								id="barFill"
								class="h-full w-0 bg-gradient-to-r from-brand-blue to-brand-cyan transition-all duration-700 ease-out"
							></div>
						</div>

						<div class="grid grid-cols-2 md:grid-cols-3 gap-4">
							<div class="p-4 rounded-xl border border-ui-border bg-brand-bg/40">
								<span class="text-[10px] font-bold text-ui-meta uppercase block mb-1">Filas Input</span>
								<div id="k_in" class="text-3xl font-bold text-brand-navy">0</div>
							</div>
							<div class="p-4 rounded-xl border border-ui-border bg-brand-bg/40">
								<span class="text-[10px] font-bold text-ui-meta uppercase block mb-1">Empleados</span>
								<div id="k_emp" class="text-3xl font-bold text-brand-navy">0</div>
							</div>
							<div class="p-4 rounded-xl border border-brand-cyan/20 bg-blue-50/50">
								<span class="text-[10px] font-bold text-brand-blue uppercase block mb-1">Fix Noche</span>
								<div id="k_merged" class="text-3xl font-bold text-brand-blue">0</div>
							</div>
							<div class="p-4 rounded-xl border border-ui-border bg-brand-bg/40">
								<span class="text-[10px] font-bold text-ui-meta uppercase block mb-1">Total Final</span>
								<div id="k_out" class="text-3xl font-bold text-brand-navy">0</div>
							</div>
							<div class="p-4 rounded-xl border border-green-100 bg-green-50/50">
								<span class="text-[10px] font-bold text-green-700 uppercase block mb-1">Completos</span>
								<div id="k_ok" class="text-3xl font-bold text-green-700">0</div>
							</div>
							<div class="p-4 rounded-xl border border-red-100 bg-red-50/50">
								<span class="text-[10px] font-bold text-red-700 uppercase block mb-1">Incompletos</span>
								<div id="k_errRows" class="text-3xl font-bold text-red-700">0</div>
							</div>
						</div>
					</div>
				</div>

				<div
					class="flex items-center justify-center gap-6 text-[10px] text-ui-meta font-bold uppercase tracking-widest opacity-60"
				>
					<span>Procesamiento Local Seguro</span>
					<span class="h-3 w-px bg-gray-300"></span>
					<span>Estructura V13 - 3 Hojas</span>
				</div>
			</div>
		</div>
	</div>
</section>
